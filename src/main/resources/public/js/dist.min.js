/*! 11-04-2016 */
angular.module("zooKeeperApp",["ui.router","ngAnimate","toaster","ui.bootstrap"]),angular.module("zooKeeperApp").config(["$stateProvider","$urlRouterProvider",function(a,b){"use strict";b.otherwise("home"),a.state("foodpage",{url:"/foods",templateUrl:"templates/food.tpl.html",controller:"foodCtrl"}).state("home",{url:"/home",templateUrl:"templates/home.tpl.html",controller:"homeCtrl"}).state("speciespage",{url:"/species",templateUrl:"templates/species.tpl.html",controller:"speciesCtrl"}).state("animalpage",{url:"/animal",templateUrl:"templates/animal.tpl.html",controller:"animalCtrl"}).state("enclosurepage",{url:"/enclosure",templateUrl:"templates/enclosure.tpl.html",controller:"enclosureCtrl"})}]),angular.module("zooKeeperApp").controller("animalCtrl",["$scope","toaster","animalFactory","speciesFactory","enclosureFactory",function(a,b,c,d,e){"use strict";a.animalName="",a.selectedSpecies=null,a.selectedEnclosure=null,a.reverse=!1,a.formVisible=!1,a.updateFormVisible=!1,a.isUpdate=!1,a.showUpdateBtn=!1,a.currentPage=1,a.maxSize=5,a.itemsPerPage=10,c.getAnimalList().then(function(b){a.animalList=b.data,a.totalItems=b.data.length},function(a){b.pop("error","Please try again later")}),e.getEnclosureList().then(function(b){a.enclosureList=b.data},function(a){b.pop("erro","Please try again later")}),d.getSpeciesList().then(function(b){a.speciesList=b.data},function(a){b.pop("error","Please try again later")}),a.updateAnimal=function(a){c.updateAnimal(a).then(function(c){b.pop("success",a.name+"'s status has been updated")},function(a){b.pop("error","Please try again later")})},a.createAnimal=function(){var d={};d.species={},d.enclosure={},d.name=a.animalName.replace(/</g,"&lt").replace(/>/g,"&gt"),d.species=a.selectedSpecies,d.enclosure=a.selectedEnclosure,d.enclosure.animalTotal++,c.addAnimal(d).then(function(d){b.pop("success","New animal has been added"),c.getAnimalList().then(function(b){a.animalList=b.data})},function(a){b.pop("error","Please try again later")})},a.resetForm=function(b){a.animalName="",a.selectedSpecies=null,a.selectedEnclosure=null,b.$setUntouched()},a.orderBy=function(b){a.reverse=a.orderProp===b?!a.reverse:!0,a.orderProp=b},a.enableUpdate=function(){a.updateFormVisible=!0,a.isUpdate=!0,a.showUpdateBtn=!0},a.disableUpdate=function(){a.updateFormVisible=!1,a.isUpdate=!1,a.showUpdateBtn=!1}}]),angular.module("zooKeeperApp").controller("enclosureCtrl",["$scope","toaster","enclosureFactory","animalFactory",function(a,b,c,d){"use strict";a.enclosureName="",a.startFeedTime=null,a.endFeedTime=null,a.enclosureCondition="",a.reverse=!1,a.formVisible=!1,a.updateFormVisible=!1,a.isUpdate=!1,a.showUpdateBtn=!1,a.hstep=1,a.mstep=1,a.currentPage=1,a.maxSize=5,a.itemsPerPage=10,a.searchBy="",c.getEnclosureList().then(function(b){a.enclosureList=b.data,a.totalItems=b.data.length},function(a){b.pop("error","Please try again later")}),a.updateEnclosure=function(a){c.updateEnclosure(a).then(function(a){b.pop("success","Selected enclosure has been updated")},function(a){b.pop("error","Please try again later")})},a.createEnclosure=function(){var d={};d.name=a.enclosureName.replace(/</g,"&lt").replace(/>/g,"&gt"),d.startFeedTime=a.startFeedTime,d.endFeedTime=a.endFeedTime,d.condition=a.enclosureCondition.replace(/</g,"&lt").replace(/>/g,"&gt"),d.animalTotal=0,c.addEnclosure(d).then(function(d){b.pop("success","New enclosure has been added"),c.getEnclosureList().then(function(b){a.enclosureList=b.data})},function(a){b.pop("error","Please try again later")})},a.removeEnclosure=function(d){c.deleteEnclosure(d).then(function(d){c.getEnclosureList().then(function(b){a.enclosureList=b.data}),b.pop("success",enclosure.name+" has been removed")},function(a){b.pop("error","Please try again later")})},a.getAnimalByEnId=function(c){d.getAnimalByEnclosureId(c).then(function(b){a.enclosureAnimals=b.data},function(a){b.pop("error","Please try again later")})},a.searchEnclosureByFavFood=function(){c.getEnclosureByFavFood(a.searchBy).then(function(b){a.enclosureList=b.data,a.searchBy=""},function(a){b.pop("error","Please try again later")})},a.resetForm=function(b){a.enclosureName="",a.startFeedTime=null,a.endFeedTime=null,a.enclosureCondition="",b.$setUntouched()},a.orderBy=function(b){a.reverse=a.orderProp===b?!a.reverse:!0,a.orderProp=b},a.enableUpdate=function(){a.updateFormVisible=!0,a.isUpdate=!0,a.showUpdateBtn=!0},a.disableUpdate=function(){a.updateFormVisible=!1,a.isUpdate=!1,a.showUpdateBtn=!1}}]),angular.module("zooKeeperApp").controller("foodCtrl",["$scope","toaster","foodFactory",function(a,b,c){"use strict";a.foodName="",a.foodVendor="",a.selectedCategory=null,a.reverse=!1,a.formVisible=!1,a.updateFormVisible=!1,a.isUpdate=!1,a.showUpdateBtn=!1,a.currentPage=1,a.maxSize=5,a.itemsPerPage=10,c.getFoodList().then(function(b){a.foodList=b.data,a.totalItems=b.data.length},function(a){b.pop("error","Please try again later")}),c.getFoodCategory().then(function(b){a.foodCategoryList=b.data},function(a){b.pop("error","Please try again later")}),a.updateFood=function(a){c.updateFood(a).then(function(a){b.pop("success","Selected food has been updated")},function(a){b.pop("error","Please try again later")})},a.createFood=function(){var d={};d.foodCategory={},d.name=a.foodName.replace(/</g,"&lt").replace(/>/g,"&gt"),d.vendor=a.foodVendor.replace(/</g,"&lt").replace(/>/g,"&gt"),d.foodCategory=a.selectedCategory,c.addFood(d).then(function(d){b.pop("success","New food has been added"),c.getFoodList().then(function(b){a.foodList=b.data})},function(a){b.pop("error","Please try again later")})},a.resetForm=function(b){a.foodName="",a.foodVendor="",a.selectedCategory=null,b.$setUntouched()},a.orderBy=function(b){a.reverse=a.orderProp===b?!a.reverse:!0,a.orderProp=b},a.enableUpdate=function(){a.updateFormVisible=!0,a.isUpdate=!0,a.showUpdateBtn=!0},a.disableUpdate=function(){a.updateFormVisible=!1,a.isUpdate=!1,a.showUpdateBtn=!1}}]),angular.module("zooKeeperApp").controller("homeCtrl",["$scope",function(a){"use strict";a.welcomeMessage="Welcome to Zoo Keeper App"}]),angular.module("zooKeeperApp").controller("navCtrl",["$scope","$state",function(a,b){"use strict";a.activeLink=function(a){return b.is(a)?"active":""}}]),angular.module("zooKeeperApp").controller("speciesCtrl",["$scope","toaster","speciesFactory","foodFactory","animalFactory",function(a,b,c,d,e){"use strict";a.speciesCommonName="",a.speciesScientificName="",a.speciesInfoLink="",a.selectedFood=null,a.reverse=!1,a.formVisible=!1,a.updateFormVisible=!1,a.isUpdate=!1,a.showUpdateBtn=!1,a.currentPage=1,a.maxSize=5,a.itemsPerPage=10,c.getSpeciesList().then(function(b){a.speciesList=b.data,a.totalItems=b.data.length},function(a){b.pop("error","Please try again later")}),d.getFoodList().then(function(b){a.foodList=b.data},function(a){b.pop("error","Please try again later")}),a.getAnimalBySpeciesId=function(c){e.getAnimalBySpeciesId(c).then(function(b){a.speciesAnimals=b.data},function(a){b.pop("error","Please try again later")})},a.updateSpecies=function(a){c.updateSpecies(a).then(function(a){b.pop("success","Selected species has been updated")},function(a){b.pop("error","Please try again later")})},a.createSpecies=function(){var d={};d.food={},d.commonName=a.speciesCommonName,d.scientificName=a.speciesScientificName.replace(/</g,"&lt").replace(/>/g,"&gt"),d.infoLink=a.speciesInfoLink.replace(/</g,"&lt").replace(/>/g,"&gt"),d.food=a.selectedFood,c.addSpecies(d).then(function(d){b.pop("success","New species has been added"),c.getSpeciesList().then(function(b){a.speciesList=b.data})},function(a){b.pop("error","Please try again later")})},a.resetForm=function(b){a.speciesCommonName="",a.speciesScientificName="",a.speciesInfoLink="",a.selectedFood=null,b.$setUntouched()},a.orderBy=function(b){a.reverse=a.orderProp===b?!a.reverse:!0,a.orderProp=b},a.enableUpdate=function(){a.updateFormVisible=!0,a.isUpdate=!0,a.showUpdateBtn=!0},a.disableUpdate=function(){a.updateFormVisible=!1,a.isUpdate=!1,a.showUpdateBtn=!1}}]),angular.module("zooKeeperApp").factory("animalFactory",["$http",function(a){"use strict";return{getAnimalList:function(){return a.get("/animal")},updateAnimal:function(b){return a.put("/animal",b)},addAnimal:function(b){return a.post("/animal",b)},getAnimalById:function(b){return a.get("/animal/"+b)},getAnimalByEnclosureId:function(b){return a.get("/animal/enclosure/"+b)},getAnimalBySpeciesId:function(b){return a.get("/animal/species/"+b)}}}]),angular.module("zooKeeperApp").factory("enclosureFactory",["$http",function(a){"use strict";return{getEnclosureList:function(){return a.get("/enclosure")},updateEnclosure:function(b){return a.put("/enclosure",b)},addEnclosure:function(b){return a.post("/enclosure",b)},deleteEnclosure:function(b){return a["delete"]("/enclosure/"+b)},getEnclosureById:function(b){return a.get("/enclosure/"+b)},getEnclosureByFavFood:function(b){return a.get("/enclosure/favfood/"+b)}}}]),angular.module("zooKeeperApp").factory("foodFactory",["$http",function(a){"use strict";return{getFoodList:function(){return a.get("/foods")},updateFood:function(b){return a.put("/foods",b)},addFood:function(b){return a.post("/foods",b)},getFoodById:function(b){return a.get("/foods/"+b)},getFoodCategory:function(){return a.get("/foods/category")}}}]),angular.module("zooKeeperApp").factory("speciesFactory",["$http",function(a){"use strict";return{getSpeciesList:function(){return a.get("/species")},updateSpecies:function(b){return a.put("/species",b)},addSpecies:function(b){return a.post("/species",b)},getSpeciesById:function(b){return a.get("/species/"+b)}}}]);